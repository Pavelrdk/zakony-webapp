<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ú–æ–Ω–∏—Ç–æ—Ä –ó–∞–∫–æ–Ω–æ–≤</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="styles.css?v=6">
</head>

<body>
    <div class="container">
        <!-- –í–∫–ª–∞–¥–∫–∞ 1: –ú–æ–Ω–∏—Ç–æ—Ä (–ì–ª–∞–≤–Ω–∞—è) -->
        <div id="tab-home" class="tab-content active">
            <div class="header-section">
                <h2>üëã –ú–æ–Ω–∏—Ç–æ—Ä –∑–∞–∫–æ–Ω–æ–≤</h2>
                <div class="subtitle" id="home-subtitle">–í—ã –µ—â—ë –Ω–µ –≤—ã–±—Ä–∞–ª–∏ —Ç–µ–º—ã.</div>
            </div>

            <div class="card">
                <h3>‚ö° –ë—ã—Å—Ç—Ä—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä</h3>
                <div class="chips-grid">
                    <div class="chip action-chip" onclick="quickSearch('week')">üìÖ –ó–∞ –Ω–µ–¥–µ–ª—é</div>
                    <div class="chip action-chip" onclick="quickSearch('month')">üóì –ó–∞ –º–µ—Å—è—Ü</div>
                </div>
            </div>

            <div class="card">
                <h3>üì¶ –ú–æ–∏ –ø–æ–¥–ø–∏—Å–∫–∏</h3>
                <div id="home-roles-list" class="roles-list-preview">–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–æ–ª–µ–π</div>
                <button class="btn btn-sm btn-secondary" onclick="switchTab('settings')" style="margin-top: 10px;">‚öôÔ∏è
                    –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–µ–º—ã</button>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ 2: –ü–æ–∏—Å–∫ -->
        <div id="tab-search" class="tab-content">
            <h2>üîç –ü–æ–∏—Å–∫ –∑–∞–∫–æ–Ω–æ–≤</h2>
            <div class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–∏–æ–¥ –∏ —Ñ–∏–ª—å—Ç—Ä—ã</div>

            <div class="card">
                <div class="form-group">
                    <label>–ü–µ—Ä–∏–æ–¥</label>
                    <div class="date-inputs">
                        <input type="date" id="date-start" class="date-input">
                        <span>‚Äî</span>
                        <input type="date" id="date-end" class="date-input">
                    </div>
                </div>

                <div class="form-group">
                    <label>–ì–¥–µ –∏—Å–∫–∞—Ç—å?</label>
                    <div class="toggle-group">
                        <div class="chip selected toggle-opt" data-value="my" onclick="toggleSearchSource(this, 'my')">
                            üìã –ú–æ–∏ —Ç–µ–º—ã</div>
                        <div class="chip toggle-opt" data-value="all" onclick="toggleSearchSource(this, 'all')">üåê –í—Å–µ
                            –∑–∞–∫–æ–Ω—ã</div>
                    </div>
                </div>

                <button class="btn" onclick="doSearch()">üîç –ù–∞–π—Ç–∏</button>
            </div>

            <div class="card">
                <h3>üìÖ –ü—Ä–µ—Å–µ—Ç—ã</h3>
                <div class="chips-grid">
                    <div class="chip action-chip" onclick="setPreset('2025')">2025 –≥–æ–¥</div>
                    <div class="chip action-chip" onclick="setPreset('2024')">2024 –≥–æ–¥</div>
                </div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–°—Ç–∞—Ä—ã–π UI –≤—ã–±–æ—Ä–∞ —Ç–µ–º) -->
        <div id="tab-settings" class="tab-content">
            <!-- –í—Å—Ç—Ä–∞–∏–≤–∞–µ–º —ç–∫—Ä–∞–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–Ω—É—Ç—Ä—å –≤–∫–ª–∞–¥–∫–∏ -->
            <div id="settings-nav-placeholder">
                <!-- –°—é–¥–∞ –±—É–¥–µ—Ç —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è –∫–æ–Ω—Ç–µ–Ω—Ç –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ app.js -->
            </div>

            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è settings-flow (–±—ã–≤—à–∏–µ —ç–∫—Ä–∞–Ω—ã) -->
            <div id="screen-roles" class="settings-screen active">
                <h2>üë§ –í–∞—à–∏ —Ä–æ–ª–∏</h2>
                <div class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ, –∫—Ç–æ –≤—ã, —á—Ç–æ–±—ã –ø–æ–¥–æ–±—Ä–∞—Ç—å —Ç–µ–º—ã.</div>
                <div id="roles-container"></div>
                <div class="bottom-spacer"></div>
            </div>

            <div id="screen-preview" class="settings-screen">
                <h2>‚úÖ –í–∞—à–∏ —Ç–µ–º—ã</h2>
                <div class="roles-summary">
                    <div class="roles-label">–í—ã–±—Ä–∞–Ω–æ:</div>
                    <div id="selected-roles-list" class="roles-list"></div>
                </div>
                <div id="preview-tags-container"></div>
                <div class="bottom-spacer"></div>
            </div>

            <div id="screen-all" class="settings-screen">
                <h2>‚öôÔ∏è –í—Å–µ —Ç–µ–º—ã</h2>
                <div id="all-tags-container"></div>
                <div class="bottom-spacer"></div>
            </div>

            <div id="screen-success" class="settings-screen">
                <div class="success-content">
                    <div class="success-icon">‚úÖ</div>
                    <h2>–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ!</h2>
                </div>
            </div>
        </div>
    </div>

    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è (Tab Bar) -->
    <div class="tab-bar">
        <div class="tab-item active" onclick="switchTab('home')" id="nav-home">
            <div class="tab-icon">üè†</div>
            <div class="tab-label">–ú–æ–Ω–∏—Ç–æ—Ä</div>
        </div>
        <div class="tab-item" onclick="switchTab('search')" id="nav-search">
            <div class="tab-icon">üîç</div>
            <div class="tab-label">–ü–æ–∏—Å–∫</div>
        </div>
        <div class="tab-item" onclick="switchTab('settings')" id="nav-settings">
            <div class="tab-icon">‚öôÔ∏è</div>
            <div class="tab-label">–¢–µ–º—ã</div>
        </div>
    </div>

    <!-- –ü–ª–∞–≤–∞—é—â–∞—è –∫–Ω–æ–ø–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –ù–∞—Å—Ç—Ä–æ–µ–∫ (–ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–∞–º) -->
    <div id="settings-fab-container"></div>

    <script src="data.js"></script>
    <script src="app.js"></script>
</body>

</html>